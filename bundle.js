var app=function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function o(){return Object.create(null)}function r(t){t.forEach(n)}function c(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}const i="undefined"!=typeof window;let l=i?()=>window.performance.now():()=>Date.now(),u=i?t=>requestAnimationFrame(t):t;const a=new Set;function d(t){a.forEach((e=>{e.c(t)||(a.delete(e),e.f())})),0!==a.size&&u(d)}function f(t){let e;return 0===a.size&&u(d),{promise:new Promise((n=>{a.add(e={c:t,f:n})})),abort(){a.delete(e)}}}function h(t,e){t.appendChild(e)}function p(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function $(t){const e=k("style");return function(t,e){h(t.head||t,e),e.sheet}(p(t),e),e.sheet}function m(t,e,n){t.insertBefore(e,n||null)}function y(t){t.parentNode&&t.parentNode.removeChild(t)}function k(t){return document.createElement(t)}function g(t){return document.createTextNode(t)}function b(){return g(" ")}function v(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function w(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function x(t,e){t.value=null==e?"":e}const _=new Map;let E,I=0;function C(t,e,n,o,r,c,s,i=0){const l=16.666/o;let u="{\n";for(let t=0;t<=1;t+=l){const o=e+(n-e)*c(t);u+=100*t+`%{${s(o,1-o)}}\n`}const a=u+`100% {${s(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(a)}_${i}`,f=p(t),{stylesheet:h,rules:m}=_.get(f)||function(t,e){const n={stylesheet:$(e),rules:{}};return _.set(t,n),n}(f,t);m[d]||(m[d]=!0,h.insertRule(`@keyframes ${d} ${a}`,h.cssRules.length));const y=t.style.animation||"";return t.style.animation=`${y?`${y}, `:""}${d} ${o}ms linear ${r}ms 1 both`,I+=1,d}function L(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),r=n.length-o.length;r&&(t.style.animation=o.join(", "),I-=r,I||u((()=>{I||(_.forEach((t=>{const{ownerNode:e}=t.stylesheet;e&&y(e)})),_.clear())})))}function j(t){E=t}function A(){if(!E)throw new Error("Function called outside component initialization");return E}const M=[],N=[];let S=[];const O=[],P=Promise.resolve();let R=!1;function z(t){S.push(t)}function D(t){O.push(t)}const q=new Set;let F,T=0;function V(){if(0!==T)return;const t=E;do{try{for(;T<M.length;){const t=M[T];T++,j(t),B(t.$$)}}catch(t){throw M.length=0,T=0,t}for(j(null),M.length=0,T=0;N.length;)N.pop()();for(let t=0;t<S.length;t+=1){const e=S[t];q.has(e)||(q.add(e),e())}S.length=0}while(M.length);for(;O.length;)O.pop()();R=!1,q.clear(),j(t)}function B(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(z)}}function H(){return F||(F=Promise.resolve(),F.then((()=>{F=null}))),F}function K(t,e,n){t.dispatchEvent(function(t,e,{bubbles:n=!1,cancelable:o=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,o,e),r}(`${e?"intro":"outro"}${n}`))}const G=new Set;let J;function Q(){J={r:0,c:[],p:J}}function U(){J.r||r(J.c),J=J.p}function W(t,e){t&&t.i&&(G.delete(t),t.i(e))}function X(t,e,n,o){if(t&&t.o){if(G.has(t))return;G.add(t),J.c.push((()=>{G.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}else o&&o()}const Y={duration:0};function Z(t,e){X(t,1,1,(()=>{e.delete(t.key)}))}function tt(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function et(t){t&&t.c()}function nt(t,e,o,s){const{fragment:i,after_update:l}=t.$$;i&&i.m(e,o),s||z((()=>{const e=t.$$.on_mount.map(n).filter(c);t.$$.on_destroy?t.$$.on_destroy.push(...e):r(e),t.$$.on_mount=[]})),l.forEach(z)}function ot(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];S.forEach((o=>-1===t.indexOf(o)?e.push(o):n.push(o))),n.forEach((t=>t())),S=e}(n.after_update),r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function rt(t,e){-1===t.$$.dirty[0]&&(M.push(t),R||(R=!0,P.then(V)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ct(e,n,c,s,i,l,u,a=[-1]){const d=E;j(e);const f=e.$$={fragment:null,ctx:[],props:l,update:t,not_equal:i,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:o(),dirty:a,skip_bound:!1,root:n.target||d.$$.root};u&&u(f.root);let h=!1;if(f.ctx=c?c(e,n.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return f.ctx&&i(f.ctx[t],f.ctx[t]=r)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](r),h&&rt(e,t)),n})):[],f.update(),h=!0,r(f.before_update),f.fragment=!!s&&s(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(y)}else f.fragment&&f.fragment.c();n.intro&&W(e.$$.fragment),nt(e,n.target,n.anchor,n.customElement),V()}j(d)}class st{$destroy(){ot(this,1),this.$destroy=t}$on(e,n){if(!c(n))return t;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function it(e){let n,o,c,s,i,l;return{c(){n=k("div"),o=k("span"),o.textContent="Volume",c=b(),s=k("input"),w(o,"class","svelte-g8e1vs"),w(s,"type","range"),w(s,"min","0"),w(s,"max","1"),w(s,"step","0.01"),w(s,"class","svelte-g8e1vs"),w(n,"class","volume-slider svelte-g8e1vs")},m(t,r){m(t,n,r),h(n,o),h(n,c),h(n,s),x(s,e[0]),i||(l=[v(s,"change",e[1]),v(s,"input",e[1])],i=!0)},p(t,[e]){1&e&&x(s,t[0])},i:t,o:t,d(t){t&&y(n),i=!1,r(l)}}}function lt(t,e,n){let{volume:o=.5}=e;return t.$$set=t=>{"volume"in t&&n(0,o=t.volume)},[o,function(){var t;t=this.value,o=""===t?null:+t,n(0,o)}]}class ut extends st{constructor(t){super(),ct(this,t,lt,it,s,{volume:0})}}function at(e){let n,o,r,c,s,i,l;return{c(){n=k("div"),o=k("span"),o.textContent="Show Keys",r=b(),c=k("div"),s=k("input"),w(o,"class","svelte-jlhatk"),w(s,"type","checkbox"),w(s,"class","svelte-jlhatk"),w(c,"class","slider-wrapper svelte-jlhatk"),w(n,"class","keys-checkbox svelte-jlhatk")},m(t,u){m(t,n,u),h(n,o),h(n,r),h(n,c),h(c,s),s.checked=e[0],i||(l=v(s,"change",e[1]),i=!0)},p(t,[e]){1&e&&(s.checked=t[0])},i:t,o:t,d(t){t&&y(n),i=!1,l()}}}function dt(t,e,n){let{checked:o=!0}=e;return t.$$set=t=>{"checked"in t&&n(0,o=t.checked)},[o,function(){o=this.checked,n(0,o)}]}class ft extends st{constructor(t){super(),ct(this,t,dt,at,s,{checked:0})}}function ht(t,{delay:n=0,duration:o=400,easing:r=e}={}){const c=+getComputedStyle(t).opacity;return{delay:n,duration:o,easing:r,css:t=>"opacity: "+t*c}}function pt(t,e,n){const o=t.slice();return o[11]=e[n].key,o[12]=e[n].color,o[13]=e[n].bindIndex,o[14]=e,o[15]=n,o}function $t(n){let o,s,i,u,a,d=n[11]+"";return{c(){o=k("span"),s=g(d),w(o,"class","key-label svelte-brrpih")},m(t,e){m(t,o,e),h(o,s),a=!0},p:t,i(n){a||(z((()=>{a&&(u&&u.end(1),i=function(n,o,r){const s={direction:"in"};let i,u,a=o(n,r,s),d=!1,h=0;function p(){i&&L(n,i)}function $(){const{delay:o=0,duration:r=300,easing:c=e,tick:s=t,css:$}=a||Y;$&&(i=C(n,0,1,r,o,c,$,h++)),s(0,1);const m=l()+o,y=m+r;u&&u.abort(),d=!0,z((()=>K(n,!0,"start"))),u=f((t=>{if(d){if(t>=y)return s(1,0),K(n,!0,"end"),p(),d=!1;if(t>=m){const e=c((t-m)/r);s(e,1-e)}}return d}))}let m=!1;return{start(){m||(m=!0,L(n),c(a)?(a=a(s),H().then($)):$())},invalidate(){m=!1},end(){d&&(p(),d=!1)}}}(o,ht,{duration:500}),i.start())})),a=!0)},o(n){i&&i.invalidate(),u=function(n,o,s){const i={direction:"out"};let u,a=o(n,s,i),d=!0;const h=J;function p(){const{delay:o=0,duration:c=300,easing:s=e,tick:i=t,css:p}=a||Y;p&&(u=C(n,1,0,c,o,s,p));const $=l()+o,m=$+c;z((()=>K(n,!1,"start"))),f((t=>{if(d){if(t>=m)return i(0,1),K(n,!1,"end"),--h.r||r(h.c),!1;if(t>=$){const e=s((t-$)/c);i(1-e,e)}}return d}))}return h.r+=1,c(a)?H().then((()=>{a=a(i),p()})):p(),{end(t){t&&a.tick&&a.tick(1,0),d&&(u&&L(n,u),d=!1)}}}(o,ht,{duration:500}),a=!1},d(t){t&&y(o),t&&u&&u.end()}}}function mt(t,e){let n,o,c,s,i,l=e[13],u=e[2]&&$t(e);const a=()=>e[7](n,l),d=()=>e[7](null,l);function f(){return e[8](e[11])}return{key:t,first:null,c(){n=k("li"),u&&u.c(),o=b(),w(n,"class","key "+e[12]+" svelte-brrpih"),w(n,"data-key",e[11]),this.first=n},m(t,e){m(t,n,e),u&&u.m(n,null),h(n,o),a(),c=!0,s||(i=[v(n,"click",f),v(n,"keydown",kt)],s=!0)},p(t,r){(e=t)[2]?u?(u.p(e,r),4&r&&W(u,1)):(u=$t(e),u.c(),W(u,1),u.m(n,o)):u&&(Q(),X(u,1,1,(()=>{u=null})),U()),l!==e[13]&&(d(),l=e[13],a())},i(t){c||(W(u),c=!0)},o(t){X(u),c=!1},d(t){t&&y(n),u&&u.d(),d(),s=!1,r(i)}}}function yt(t){let e,n,o,c,s,i,l,u,a,d,f,p,$,g=[],v=new Map;function x(e){t[5](e)}let _={};function E(e){t[6](e)}void 0!==t[1]&&(_.volume=t[1]),i=new ut({props:_}),N.push((()=>tt(i,"volume",x)));let I={};void 0!==t[2]&&(I.checked=t[2]),a=new ft({props:I}),N.push((()=>tt(a,"checked",E)));let C=t[3];const L=t=>t[11];for(let e=0;e<C.length;e+=1){let n=pt(t,C,e),o=L(n);v.set(o,g[e]=mt(o,n))}return{c(){e=k("div"),n=k("header"),o=k("div"),c=k("h2"),c.textContent="Virtual Piano",s=b(),et(i.$$.fragment),u=b(),et(a.$$.fragment),f=b(),p=k("ul");for(let t=0;t<g.length;t+=1)g[t].c();w(c,"class","svelte-brrpih"),w(o,"class","top-elements svelte-brrpih"),w(p,"class","piano-keys svelte-brrpih"),w(n,"class","svelte-brrpih"),w(e,"class","wrapper svelte-brrpih")},m(t,r){m(t,e,r),h(e,n),h(n,o),h(o,c),h(o,s),nt(i,o,null),h(o,u),nt(a,o,null),h(n,f),h(n,p);for(let t=0;t<g.length;t+=1)g[t]&&g[t].m(p,null);$=!0},p(t,[e]){const n={};!l&&2&e&&(l=!0,n.volume=t[1],D((()=>l=!1))),i.$set(n);const o={};!d&&4&e&&(d=!0,o.checked=t[2],D((()=>d=!1))),a.$set(o),29&e&&(C=t[3],Q(),g=function(t,e,n,o,c,s,i,l,u,a,d,f){let h=t.length,p=s.length,$=h;const m={};for(;$--;)m[t[$].key]=$;const y=[],k=new Map,g=new Map,b=[];for($=p;$--;){const t=f(c,s,$),r=n(t);let l=i.get(r);l?o&&b.push((()=>l.p(t,e))):(l=a(r,t),l.c()),k.set(r,y[$]=l),r in m&&g.set(r,Math.abs($-m[r]))}const v=new Set,w=new Set;function x(t){W(t,1),t.m(l,d),i.set(t.key,t),d=t.first,p--}for(;h&&p;){const e=y[p-1],n=t[h-1],o=e.key,r=n.key;e===n?(d=e.first,h--,p--):k.has(r)?!i.has(o)||v.has(o)?x(e):w.has(r)?h--:g.get(o)>g.get(r)?(w.add(o),x(e)):(v.add(r),h--):(u(n,i),h--)}for(;h--;){const e=t[h];k.has(e.key)||u(e,i)}for(;p;)x(y[p-1]);return r(b),y}(g,e,L,1,t,C,v,p,Z,mt,null,pt),U())},i(t){if(!$){W(i.$$.fragment,t),W(a.$$.fragment,t);for(let t=0;t<C.length;t+=1)W(g[t]);$=!0}},o(t){X(i.$$.fragment,t),X(a.$$.fragment,t);for(let t=0;t<g.length;t+=1)X(g[t]);$=!1},d(t){t&&y(e),ot(i),ot(a);for(let t=0;t<g.length;t+=1)g[t].d()}}}const kt=()=>{};function gt(t,e,n){const o=[];let r=[{key:"a",color:"white",bindIndex:0},{key:"w",color:"black",bindIndex:1},{key:"s",color:"white",bindIndex:2},{key:"e",color:"black",bindIndex:3},{key:"d",color:"white",bindIndex:4},{key:"f",color:"white",bindIndex:5},{key:"t",color:"black",bindIndex:6},{key:"g",color:"white",bindIndex:7},{key:"y",color:"black",bindIndex:8},{key:"h",color:"white",bindIndex:9},{key:"u",color:"black",bindIndex:10},{key:"j",color:"white",bindIndex:11},{key:"k",color:"white",bindIndex:12},{key:"o",color:"black",bindIndex:13},{key:"l",color:"white",bindIndex:14},{key:"p",color:"black",bindIndex:15},{key:"รง",color:"white",bindIndex:16}],c=.5,s=!0;const i=t=>{const e=new Audio(`/tunes/${t}.wav`);return e.volume=c,e.play(),e},l=t=>{const e=t.key.toLowerCase(),n=r.find((t=>t.key===e));n&&!n.audio&&(n.audio=i(e),o[n.bindIndex].classList.add(`${n.color}-active`))},u=t=>{const e=t.key.toLowerCase(),n=r.find((t=>t.key===e));n&&n.audio&&(n.audio=null,o[n.bindIndex].classList.remove(`${n.color}-active`))};var a;a=()=>{window.addEventListener("keydown",l),window.addEventListener("keyup",u)},A().$$.on_mount.push(a),function(t){A().$$.on_destroy.push(t)}((()=>{window.removeEventListener("keydown",l),window.removeEventListener("keyup",u)}));return[o,c,s,r,i,function(t){c=t,n(1,c)},function(t){s=t,n(2,s)},function(t,e){N[t?"unshift":"push"]((()=>{o[e]=t,n(0,o)}))},t=>i(t)]}class bt extends st{constructor(t){super(),ct(this,t,gt,yt,s,{})}}function vt(e){let n,o,r,c,s,i;return s=new bt({}),{c(){n=k("main"),o=k("head"),o.innerHTML='<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&amp;display=swap"/>',r=b(),c=k("div"),et(s.$$.fragment),w(c,"class","rotate")},m(t,e){m(t,n,e),h(n,o),h(n,r),h(n,c),nt(s,c,null),i=!0},p:t,i(t){i||(W(s.$$.fragment,t),i=!0)},o(t){X(s.$$.fragment,t),i=!1},d(t){t&&y(n),ot(s)}}}return new class extends st{constructor(t){super(),ct(this,t,null,vt,s,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
